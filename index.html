<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.23" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <link rel="apple-touch-icon" sizes="180x180" href="/evnty/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/evnty/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/evnty/favicon-16x16.png"><link rel="manifest" href="/evnty/site.webmanifest"><link rel="mask-icon" href="/evnty/safari-pinned-tab.svg" color="#3a0839"><link rel="shortcut icon" href="/evnty/favicon.ico"><meta name="msapplication-TileColor" content="#3a0839"><meta name="msapplication-config" content="/evnty/browserconfig.xml"><meta name="theme-color" content="#424242"><title>Evnty | Evnty</title><meta name="description" content="0-dependency, high-performance, reactive event handling library optimized for both browser and Node.js environments. This library introduces a robust and type-safe abstraction for handling events, reducing boilerplate and increasing code maintainability.">
    <link rel="preload" href="/evnty/assets/style-BNQ-MM9X.css" as="style"><link rel="stylesheet" href="/evnty/assets/style-BNQ-MM9X.css">
    <link rel="modulepreload" href="/evnty/assets/app-BZpFPFnJ.js"><link rel="modulepreload" href="/evnty/assets/index.html-BkpSDQOF.js">
    <link rel="prefetch" href="/evnty/assets/404.html-CfSKKLew.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/evnty/"><!----><span class="vp-site-name" aria-hidden="true">Evnty</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/evnty/" aria-label="Home"><!--[--><!--[--><!--]--><!--]-->Home<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/3axap4ehko/evnty" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><!----><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/evnty/" aria-label="Home"><!--[--><!--[--><!--]--><!--]-->Home<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/3axap4ehko/evnty" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Evnty <!----></p><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div id="content"><h1 id="evnty" tabindex="-1"><a class="header-anchor" href="#evnty"><span>Evnty</span></a></h1><p><a href="https://codecov.io/gh/3axap4eHko/evnty" target="_blank" rel="noopener noreferrer"><img src="https://codecov.io/gh/3axap4eHko/evnty/branch/master/graph/badge.svg?maxAge=43200" alt="Coverage Status"></a><a href="https://github.com/3axap4eHko/evnty/actions" target="_blank" rel="noopener noreferrer"><img src="https://github.com/3axap4eHko/evnty/actions/workflows/build.yml/badge.svg?branch=master" alt="Github Build Status"></a><a href="https://www.npmjs.com/package/evnty" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/npm/v/evnty.svg?maxAge=43200" alt="NPM version"></a><a href="https://www.npmjs.com/package/evnty" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/npm/dw/evnty.svg?maxAge=43200" alt="Downloads"></a><a href="https://snyk.io/test/npm/evnty/latest" target="_blank" rel="noopener noreferrer"><img src="https://snyk.io/test/github/3axap4eHko/evnty/badge.svg?maxAge=43200" alt="Snyk"></a></p><p>Async-first, reactive event handling library for complex event flows with three powerful primitives: <strong>Event</strong> (multi-listener broadcast), <strong>Signal</strong> (promise-like coordination), and <strong>Sequence</strong> (async queue). Built for both browser and Node.js with full TypeScript support.</p><div align="center"><a href="https://github.com/3axap4ehko/evnty"><img width="200" height="200" src="data:image/svg+xml,%3csvg%20width=&#39;256&#39;%20height=&#39;256&#39;%20viewBox=&#39;0%200%20256%20256&#39;%20fill=&#39;none&#39;%20xmlns=&#39;http://www.w3.org/2000/svg&#39;%3e%3cpath%20d=&#39;M139.511%20210L125.511%20196.182L193.148%20128.545L125.511%2061.0909L139.511%2047.0909L220.966%20128.545L139.511%20210ZM33.875%20160.182V140.182H195.875L175.875%20160.182H33.875ZM33.875%20116.909V96.9091H175.875L195.875%20116.909H33.875Z&#39;%20fill=&#39;%238888FF&#39;/%3e%3c/svg%3e"></a><br><br></div><h2 id="table-of-contents" tabindex="-1"><a class="header-anchor" href="#table-of-contents"><span>Table of Contents</span></a></h2><ul><li><a href="#core-concepts">Core Concepts</a></li><li><a href="#motivation">Motivation</a></li><li><a href="#features">Features</a></li><li><a href="#platform-support">Platform Support</a></li><li><a href="#installing">Installing</a></li><li><a href="#api">API</a><ul><li><a href="#unsubscribe"><code>Unsubscribe</code></a><ul><li><a href="#unsubscribeconstructorcallback-callback"><code>unsubscribe.constructor(callback: Callback)</code></a></li><li><a href="#unsubscribedone"><code>unsubscribe.done()</code></a></li><li><a href="#unsubscribeprecallback-callback-unsubscribe"><code>unsubscribe.pre(callback: Callback): Unsubscribe</code></a></li><li><a href="#unsubscribepostcallback-callback-unsubscribe"><code>unsubscribe.post(callback: Callback): Unsubscribe</code></a></li><li><a href="#unsubscribecountdowncount-number-unsubscribe"><code>unsubscribe.countdown(count: number): Unsubscribe</code></a></li></ul></li><li><a href="#eventresult"><code>EventResult</code></a><ul><li><a href="#eventresultconstructorresults-maybepromise"><code>eventresult.constructor(results: MaybePromise[])</code></a></li><li><a href="#eventresultthenonfulfilled-onrejected-promiselike"><code>eventresult.then(onfulfilled, onrejected): PromiseLike</code></a></li><li><a href="#eventresultall-promise"><code>eventresult.all(): Promise</code></a></li><li><a href="#eventresultsettled-promise"><code>eventresult.settled(): Promise</code></a></li></ul></li><li><a href="#event"><code>Event</code></a><ul><li><a href="#eventconstructordispose-callback"><code>event.constructor(dispose?: Callback)</code></a></li><li><a href="#eventsize-number"><code>event.size(): number</code></a></li><li><a href="#eventdisposed-boolean"><code>event.disposed(): boolean</code></a></li><li><a href="#eventlackslistener-listener-boolean"><code>event.lacks(listener: Listener): boolean</code></a></li><li><a href="#eventhaslistener-listener-boolean"><code>event.has(listener: Listener): boolean</code></a></li><li><a href="#eventofflistener-listener-this"><code>event.off(listener: Listener): this</code></a></li><li><a href="#eventonlistener-listener-unsubscribe"><code>event.on(listener: Listener): Unsubscribe</code></a></li><li><a href="#eventoncelistener-listener-unsubscribe"><code>event.once(listener: Listener): Unsubscribe</code></a></li><li><a href="#eventclear-this"><code>event.clear(): this</code></a></li><li><a href="#eventnext-promise"><code>event.next(): Promise</code></a></li><li><a href="#eventsettle-promise"><code>event.settle(): Promise</code></a></li><li><a href="#eventsymbolasynciterator-asynciterator"><code>event.Symbol.asyncIterator(): AsyncIterator</code></a></li><li><a href="#eventsymboldispose-void"><code>event.Symbol.dispose(): void</code></a></li></ul></li><li><a href="#mergeevents-events-event"><code>merge(...events: Events): Event</code></a></li><li><a href="#createintervalinterval-number-event"><code>createInterval(interval: number): Event</code></a></li><li><a href="#createevent-event"><code>createEvent(): Event</code></a></li><li><a href="#asynciteratorobject"><code>AsyncIteratorObject</code></a><ul><li><a href="#asynciteratorobjectfromiterable-iterable-asynciteratorobject"><code>asynciteratorobject.from(iterable: Iterable): AsyncIteratorObject</code></a></li><li><a href="#asynciteratorobjectmergeiterables-asynciterable-asynciteratorobject"><code>asynciteratorobject.merge(...iterables: AsyncIterable[]): AsyncIteratorObject</code></a></li><li><a href="#asynciteratorobjectconstructoriterable-asynciterable"><code>asynciteratorobject.constructor(iterable: AsyncIterable)</code></a></li><li><a href="#asynciteratorobjectpipegeneratorfactory-signal-abortsignal-asynciteratorobject"><code>asynciteratorobject.pipe(generatorFactory, signal?: AbortSignal): AsyncIteratorObject</code></a></li><li><a href="#asynciteratorobjectawaited-asynciteratorobject"><code>asynciteratorobject.awaited(): AsyncIteratorObject</code></a></li><li><a href="#asynciteratorobjectmapcallbackfn-asynciteratorobject"><code>asynciteratorobject.map(callbackfn): AsyncIteratorObject</code></a></li><li><a href="#asynciteratorobjectfilterpredicate-asynciteratorobject"><code>asynciteratorobject.filter(predicate): AsyncIteratorObject</code></a></li><li><a href="#asynciteratorobjectfilterpredicate-asynciteratorobject"><code>asynciteratorobject.filter(predicate): AsyncIteratorObject</code></a></li><li><a href="#asynciteratorobjectfilterpredicate-asynciteratorobject"><code>asynciteratorobject.filter(predicate): AsyncIteratorObject</code></a></li><li><a href="#asynciteratorobjecttakelimit-number-asynciteratorobject"><code>asynciteratorobject.take(limit: number): AsyncIteratorObject</code></a></li><li><a href="#asynciteratorobjectdropcount-number-asynciteratorobject"><code>asynciteratorobject.drop(count: number): AsyncIteratorObject</code></a></li><li><a href="#asynciteratorobjectflatmapcallback-asynciteratorobject"><code>asynciteratorobject.flatMap(callback): AsyncIteratorObject</code></a></li><li><a href="#asynciteratorobjectreducecallbackfn-asynciteratorobject"><code>asynciteratorobject.reduce(callbackfn): AsyncIteratorObject</code></a></li><li><a href="#asynciteratorobjectreducecallbackfn-initialvalue-r-asynciteratorobject"><code>asynciteratorobject.reduce(callbackfn, initialValue: R): AsyncIteratorObject</code></a></li><li><a href="#asynciteratorobjectreducecallbackfn-args-unknown-asynciteratorobject"><code>asynciteratorobject.reduce(callbackfn, ...args: unknown[]): AsyncIteratorObject</code></a></li><li><a href="#asynciteratorobjectexpandcallbackfn-asynciteratorobject"><code>asynciteratorobject.expand(callbackfn): AsyncIteratorObject</code></a></li><li><a href="#asynciteratorobjectsymbolasynciterator"><code>asynciteratorobject.Symbol.asyncIterator()</code></a></li></ul></li><li><a href="#listenerregistry"><code>ListenerRegistry</code></a><ul><li><a href="#listenerregistrysize-number"><code>listenerregistry.size(): number</code></a></li><li><a href="#listenerregistryhaslistener-fn-boolean"><code>listenerregistry.has(listener: Fn): boolean</code></a></li><li><a href="#listenerregistrylackslistener-fn-boolean"><code>listenerregistry.lacks(listener: Fn): boolean</code></a></li><li><a href="#listenerregistryofflistener-fn-boolean"><code>listenerregistry.off(listener: Fn): boolean</code></a></li><li><a href="#listenerregistryonlistener-fn-boolean"><code>listenerregistry.on(listener: Fn): boolean</code></a></li><li><a href="#listenerregistryoncelistener-fn-boolean"><code>listenerregistry.once(listener: Fn): boolean</code></a></li><li><a href="#listenerregistryclear-void"><code>listenerregistry.clear(): void</code></a></li><li><a href="#listenerregistrydispatchvalues-p-array"><code>listenerregistry.dispatch(...values: P): Array</code></a></li></ul></li><li><a href="#sequence"><code>Sequence</code></a><ul><li><a href="#sequencemergetarget-sequence-sequences-sequence-void"><code>sequence.merge(target: Sequence, ...sequences: Sequence[]): void</code></a></li><li><a href="#sequenceconstructorprivate-readonly-abortsignal-abortsignal"><code>sequence.constructor(private readonly abortSignal?: AbortSignal)</code></a></li><li><a href="#sequenceaborted-boolean"><code>sequence.aborted(): boolean</code></a></li><li><a href="#sequencesize-number"><code>sequence.size(): number</code></a></li><li><a href="#sequencereservecapacity-number-promise"><code>sequence.reserve(capacity: number): Promise</code></a></li><li><a href="#sequencenext-promise"><code>sequence.next(): Promise</code></a></li><li><a href="#sequencesymboldispose-void"><code>sequence.Symbol.dispose(): void</code></a></li></ul></li><li><a href="#signal"><code>Signal</code></a><ul><li><a href="#signalmergetarget-signal-signals-signal-void"><code>signal.merge(target: Signal, ...signals: Signal[]): void</code></a></li><li><a href="#signalconstructorprivate-readonly-abortsignal-abortsignal"><code>signal.constructor(private readonly abortSignal?: AbortSignal)</code></a></li><li><a href="#signalaborted-boolean"><code>signal.aborted(): boolean</code></a></li><li><a href="#signalnext-promise"><code>signal.next(): Promise</code></a></li><li><a href="#signalsymboldispose-void"><code>signal.Symbol.dispose(): void</code></a></li></ul></li><li><a href="#abortableiterator"><code>AbortableIterator</code></a><ul><li><a href="#abortableiteratorconstructoriterator-asynciterator-signal-abortsignal"><code>abortableiterator.constructor(iterator: AsyncIterator, signal?: AbortSignal)</code></a></li><li><a href="#abortableiteratornextargs---tnext-promise"><code>abortableiterator.next(...args: [] | [TNext]): Promise</code></a></li><li><a href="#abortableiteratorreturnvalue-treturn-promise"><code>abortableiterator.return(value?: TReturn): Promise</code></a></li><li><a href="#abortableiteratorthrowerror-unknown-promise"><code>abortableiterator.throw(error: unknown): Promise</code></a></li><li><a href="#abortableiteratorsymbolasynciterator-asynciterator"><code>abortableiterator.Symbol.asyncIterator(): AsyncIterator</code></a></li></ul></li><li><a href="#noop"><code>noop()</code></a></li><li><a href="#mapiteratoriterator-anyiterator-map-mapnext-asynciterator"><code>mapIterator(iterator: AnyIterator, map: MapNext): AsyncIterator</code></a></li><li><a href="#iteratestartorcount-number-countwhentwoargs-number-step-number--1-iterable"><code>iterate(startOrCount?: number, countWhenTwoArgs?: number, step: number = 1): Iterable</code></a></li><li><a href="#toasynciterableiterable-iterable-asynciterable"><code>toAsyncIterable(iterable: Iterable): AsyncIterable</code></a></li><li><a href="#mergeiterablesiterables-asynciterable-asynciterable"><code>mergeIterables(...iterables: AsyncIterable[]): AsyncIterable</code></a></li></ul></li><li><a href="#examples">Examples</a></li><li><a href="#license">License</a></li></ul><h2 id="core-concepts" tabindex="-1"><a class="header-anchor" href="#core-concepts"><span>Core Concepts</span></a></h2><p>Evnty provides three complementary async primitives, each designed for specific patterns:</p><h3 id="-event-multi-listener-broadcasting" tabindex="-1"><a class="header-anchor" href="#-event-multi-listener-broadcasting"><span>ðŸ”Š Event - Multi-Listener Broadcasting</span></a></h3><p>Events allow multiple listeners to react to values. All registered listeners are called for each emission.</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token keyword">const</span> clickEvent <span class="token operator">=</span> <span class="token generic-function"><span class="token function">createEvent</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Multiple listeners can subscribe</span></span>
<span class="line">clickEvent<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> x<span class="token punctuation">,</span> y <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Click at </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">clickEvent<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> x<span class="token punctuation">,</span> y <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">updateUI</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// All listeners receive the value</span></span>
<span class="line"><span class="token function">clickEvent</span><span class="token punctuation">(</span><span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">200</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Use Event when:</strong></p><ul><li>Multiple components need to react to the same occurrence</li><li>You need pub/sub or observer pattern</li><li>Listeners should persist across multiple emissions</li></ul><h3 id="-signal-promise-based-coordination" tabindex="-1"><a class="header-anchor" href="#-signal-promise-based-coordination"><span>ðŸ“¡ Signal - Promise-Based Coordination</span></a></h3><p>Signals are for coordinating async operations. When a value is sent, ALL waiting consumers receive it (broadcast).</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token keyword">const</span> signal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Signal<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Multiple consumers can wait</span></span>
<span class="line"><span class="token keyword">const</span> promise1 <span class="token operator">=</span> signal<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> promise2 <span class="token operator">=</span> signal<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Send value - all waiting consumers receive it</span></span>
<span class="line"><span class="token function">signal</span><span class="token punctuation">(</span><span class="token string">&#39;data&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token punctuation">[</span>result1<span class="token punctuation">,</span> result2<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>promise1<span class="token punctuation">,</span> promise2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// result1 === &#39;data&#39; &amp;&amp; result2 === &#39;data&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Use Signal when:</strong></p><ul><li>You need one-time notifications</li><li>Multiple async operations need the same trigger</li><li>Implementing async coordination patterns</li></ul><h3 id="-sequence-async-queue-fifo" tabindex="-1"><a class="header-anchor" href="#-sequence-async-queue-fifo"><span>ðŸ“¦ Sequence - Async Queue (FIFO)</span></a></h3><p>Sequences are FIFO queues for single-consumer scenarios. Values are consumed in order, with backpressure support.</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token keyword">const</span> taskQueue <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sequence<span class="token operator">&lt;</span>Task<span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Producer adds tasks</span></span>
<span class="line"><span class="token function">taskQueue</span><span class="token punctuation">(</span>task1<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">taskQueue</span><span class="token punctuation">(</span>task2<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">taskQueue</span><span class="token punctuation">(</span>task3<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Single consumer processes in order</span></span>
<span class="line"><span class="token keyword">for</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">const</span> task <span class="token keyword">of</span> taskQueue<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">await</span> <span class="token function">processTask</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// task1, then task2, then task3</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Use Sequence when:</strong></p><ul><li>You need ordered processing (FIFO)</li><li>Only one consumer should handle each value</li><li>You want backpressure control with <code>reserve()</code></li></ul><h3 id="key-differences" tabindex="-1"><a class="header-anchor" href="#key-differences"><span>Key Differences</span></a></h3><table><thead><tr><th></th><th>Event</th><th>Signal</th><th>Sequence</th></tr></thead><tbody><tr><td><strong>Consumers</strong></td><td>Multiple persistent listeners</td><td>Multiple one-time receivers</td><td>Single consumer</td></tr><tr><td><strong>Delivery</strong></td><td>All listeners called</td><td>All waiting get same value</td><td>Each value consumed once</td></tr><tr><td><strong>Pattern</strong></td><td>Pub/Sub</td><td>Broadcast coordination</td><td>Queue/Stream</td></tr><tr><td><strong>Persistence</strong></td><td>Listeners stay registered</td><td>Resolves once per <code>next()</code></td><td>Values queued until consumed</td></tr></tbody></table><h2 id="motivation" tabindex="-1"><a class="header-anchor" href="#motivation"><span>Motivation</span></a></h2><p>Traditional event handling in JavaScript/TypeScript has limitations:</p><ul><li>String-based event names lack type safety</li><li>No built-in async coordination primitives</li><li>Missing functional transformations for event streams</li><li>Complex patterns require extensive boilerplate</li></ul><p>Evnty solves these problems by providing:</p><ul><li><strong>Type-safe events</strong> with full TypeScript inference</li><li><strong>Three specialized primitives</strong> for different async patterns</li><li><strong>Async iterator transformations</strong> via <code>AsyncIteratorObject</code> (map, filter, reduce, expand, etc.)</li><li><strong>Composable abstractions</strong> that work together seamlessly</li></ul><h2 id="features" tabindex="-1"><a class="header-anchor" href="#features"><span>Features</span></a></h2><ul><li><strong>Async-First Design</strong>: Built from the ground up for asynchronous event handling with full Promise support</li><li><strong>Iterator Transformations</strong>: <code>AsyncIteratorObject</code> provides map, filter, reduce, take, drop, flatMap, and expand operators</li><li><strong>Type-Safe</strong>: Full TypeScript support with strong typing and inference throughout the event pipeline</li><li><strong>Async Iteration</strong>: Events, Signals, and Sequences can be consumed as async iterables using for-await-of loops</li><li><strong>Event Composition</strong>: Merge multiple event streams into unified events</li><li><strong>Zero Dependencies</strong>: Lightweight with no external dependencies for optimal bundle size</li><li><strong>Universal</strong>: Works seamlessly in both browser and Node.js environments, including service workers</li></ul><h2 id="platform-support" tabindex="-1"><a class="header-anchor" href="#platform-support"><span>Platform Support</span></a></h2><table><thead><tr><th><img src="https://raw.github.com/alrra/browser-logos/main/src/node.js/node.js_48x48.png?1" alt="NodeJS"></th><th><img src="https://raw.github.com/alrra/browser-logos/main/src/chrome/chrome_48x48.png?1" alt="Chrome"></th><th><img src="https://raw.github.com/alrra/browser-logos/main/src/firefox/firefox_48x48.png?1" alt="Firefox"></th><th><img src="https://raw.github.com/alrra/browser-logos/main/src/safari/safari_48x48.png?1" alt="Safari"></th><th><img src="https://raw.github.com/alrra/browser-logos/main/src/opera/opera_48x48.png?1" alt="Opera"></th><th><img src="https://raw.github.com/alrra/browser-logos/main/src/edge/edge_48x48.png?1" alt="Edge"></th></tr></thead><tbody><tr><td>Latest âœ”</td><td>Latest âœ”</td><td>Latest âœ”</td><td>Latest âœ”</td><td>Latest âœ”</td><td>Latest âœ”</td></tr></tbody></table><h2 id="installing" tabindex="-1"><a class="header-anchor" href="#installing"><span>Installing</span></a></h2><p>Using pnpm:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">pnpm</span> <span class="token function">add</span> evnty</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Using yarn:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">yarn</span> <span class="token function">add</span> evnty</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Using npm:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">npm</span> <span class="token function">install</span> evnty</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="examples" tabindex="-1"><a class="header-anchor" href="#examples"><span>Examples</span></a></h2><h3 id="event-multi-listener-pattern" tabindex="-1"><a class="header-anchor" href="#event-multi-listener-pattern"><span>Event - Multi-Listener Pattern</span></a></h3><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> createEvent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;evnty&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Create a typed event</span></span>
<span class="line"><span class="token keyword">const</span> userEvent <span class="token operator">=</span> <span class="token generic-function"><span class="token function">createEvent</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Multiple listeners</span></span>
<span class="line">userEvent<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>user <span class="token operator">=&gt;</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Logger:&#39;</span><span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">userEvent<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>user <span class="token operator">=&gt;</span> <span class="token function">updateUI</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">userEvent<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>user <span class="token operator">=&gt;</span> <span class="token function">saveToCache</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Emit - all listeners are called</span></span>
<span class="line"><span class="token function">userEvent</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&#39;Alice&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// One-time listener</span></span>
<span class="line">userEvent<span class="token punctuation">.</span><span class="token function">once</span><span class="token punctuation">(</span>user <span class="token operator">=&gt;</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;First user only:&#39;</span><span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Async iteration</span></span>
<span class="line"><span class="token keyword">for</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">const</span> user <span class="token keyword">of</span> userEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;User event:&#39;</span><span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="signal-async-coordination" tabindex="-1"><a class="header-anchor" href="#signal-async-coordination"><span>Signal - Async Coordination</span></a></h3><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> Signal <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;evnty&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Coordinate multiple async operations</span></span>
<span class="line"><span class="token keyword">const</span> dataSignal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Signal<span class="token operator">&lt;</span>Buffer<span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Multiple operations wait for the same data</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">processA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> dataSignal<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token comment">// Process data in way A</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">processB</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> dataSignal<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token comment">// Process data in way B</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Start both processors</span></span>
<span class="line"><span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">processA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">processB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Both receive the same data when it arrives</span></span>
<span class="line"><span class="token function">dataSignal</span><span class="token punctuation">(</span>Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&#39;shared data&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="sequence-task-queue" tabindex="-1"><a class="header-anchor" href="#sequence-task-queue"><span>Sequence - Task Queue</span></a></h3><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> Sequence <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;evnty&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Create a task queue</span></span>
<span class="line"><span class="token keyword">const</span> taskQueue <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sequence<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span></span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Single consumer processes tasks in order</span></span>
<span class="line"><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">for</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">const</span> task <span class="token keyword">of</span> taskQueue<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">await</span> <span class="token function">task</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Task completed&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Multiple producers add tasks</span></span>
<span class="line"><span class="token function">taskQueue</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">taskQueue</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">processData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">taskQueue</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">saveResults</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Backpressure control</span></span>
<span class="line"><span class="token keyword">await</span> taskQueue<span class="token punctuation">.</span><span class="token function">reserve</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Wait until queue has â‰¤10 items</span></span>
<span class="line"><span class="token function">taskQueue</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">nonUrgentTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="combining-primitives" tabindex="-1"><a class="header-anchor" href="#combining-primitives"><span>Combining Primitives</span></a></h3><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token comment">// Event + Signal for request/response pattern</span></span>
<span class="line"><span class="token keyword">const</span> requestEvent <span class="token operator">=</span> <span class="token generic-function"><span class="token function">createEvent</span><span class="token generic class-name"><span class="token operator">&lt;</span>Request<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> responseSignal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Signal<span class="token operator">&lt;</span>Response<span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">requestEvent<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span>req<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">handleRequest</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token function">responseSignal</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Event + Sequence for buffered processing</span></span>
<span class="line"><span class="token keyword">const</span> dataEvent <span class="token operator">=</span> <span class="token generic-function"><span class="token function">createEvent</span><span class="token generic class-name"><span class="token operator">&lt;</span>Data<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> processQueue <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sequence<span class="token operator">&lt;</span>Data<span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">dataEvent<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>data <span class="token operator">=&gt;</span> <span class="token function">processQueue</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Process with controlled concurrency</span></span>
<span class="line"><span class="token keyword">for</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">const</span> data <span class="token keyword">of</span> processQueue<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">await</span> <span class="token function">processWithRateLimit</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="api" tabindex="-1"><a class="header-anchor" href="#api"><span>API</span></a></h2><h3 id="unsubscribe" tabindex="-1"><a class="header-anchor" href="#unsubscribe"><span><code>Unsubscribe</code></span></a></h3><p>Represents an unsubscribe function that can be called to remove a listener. Provides utilities for chaining callbacks and conditional unsubscription.</p><ul><li>@example</li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token keyword">const</span> unsubscribe <span class="token operator">=</span> event<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>listener<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Chain a callback before unsubscribing</span></span>
<span class="line"><span class="token keyword">const</span> withCleanup <span class="token operator">=</span> unsubscribe<span class="token punctuation">.</span><span class="token function">pre</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Cleaning up...&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Unsubscribe after 3 calls</span></span>
<span class="line"><span class="token keyword">const</span> limited <span class="token operator">=</span> unsubscribe<span class="token punctuation">.</span><span class="token function">countdown</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="unsubscribeconstructorcallback-callback" tabindex="-1"><a class="header-anchor" href="#unsubscribeconstructorcallback-callback"><span><code>unsubscribe.constructor(callback: Callback)</code></span></a></h4><p>Creates a new Unsubscribe instance.</p><ul><li>@param callback - The callback to execute when unsubscribing</li></ul><h4 id="unsubscribedone" tabindex="-1"><a class="header-anchor" href="#unsubscribedone"><span><code>unsubscribe.done()</code></span></a></h4><p>Indicates whether this unsubscribe has already been called.</p><h4 id="unsubscribeprecallback-callback-unsubscribe" tabindex="-1"><a class="header-anchor" href="#unsubscribeprecallback-callback-unsubscribe"><span><code>unsubscribe.pre(callback: Callback): Unsubscribe</code></span></a></h4><p>Creates a new unsubscribe function that executes the given callback before this unsubscribe.</p><ul><li>@param callback - The callback to execute before unsubscribing.</li><li>@returns <code>{Unsubscribe}</code> A new Unsubscribe instance.</li></ul><h4 id="unsubscribepostcallback-callback-unsubscribe" tabindex="-1"><a class="header-anchor" href="#unsubscribepostcallback-callback-unsubscribe"><span><code>unsubscribe.post(callback: Callback): Unsubscribe</code></span></a></h4><p>Creates a new unsubscribe function that executes the given callback after this unsubscribe.</p><ul><li>@param callback - The callback to execute after unsubscribing.</li><li>@returns <code>{Unsubscribe}</code> A new Unsubscribe instance.</li></ul><h4 id="unsubscribecountdowncount-number-unsubscribe" tabindex="-1"><a class="header-anchor" href="#unsubscribecountdowncount-number-unsubscribe"><span><code>unsubscribe.countdown(count: number): Unsubscribe</code></span></a></h4><p>Creates a new unsubscribe function that only executes after being called a specified number of times.</p><ul><li>@param count - The number of times this must be called before actually unsubscribing.</li><li>@returns <code>{Unsubscribe}</code> A new Unsubscribe instance.</li></ul><h3 id="eventresult" tabindex="-1"><a class="header-anchor" href="#eventresult"><span><code>EventResult</code></span></a></h3><p>Wraps an array of values or promises (typically listener results) and provides batch resolution.</p><ul><li>@template T</li></ul><h4 id="eventresultconstructorresults-maybepromise" tabindex="-1"><a class="header-anchor" href="#eventresultconstructorresults-maybepromise"><span><code>eventresult.constructor(results: MaybePromise[])</code></span></a></h4><ul><li>@param results - An array of values or Promise-returning listener calls.</li></ul><h4 id="eventresultthenonfulfilled-onrejected-promiselike" tabindex="-1"><a class="header-anchor" href="#eventresultthenonfulfilled-onrejected-promiselike"><span><code>eventresult.then(onfulfilled, onrejected): PromiseLike</code></span></a></h4><h4 id="eventresultall-promise" tabindex="-1"><a class="header-anchor" href="#eventresultall-promise"><span><code>eventresult.all(): Promise</code></span></a></h4><p>Resolves all listener results, rejecting if any promise rejects.</p><ul><li>@returns <code>{Promise&lt;T[]&gt;}</code> A promise that fulfills with an array of all resolved values.</li></ul><h4 id="eventresultsettled-promise" tabindex="-1"><a class="header-anchor" href="#eventresultsettled-promise"><span><code>eventresult.settled(): Promise</code></span></a></h4><p>Waits for all listener results to settle, regardless of fulfillment or rejection.</p><ul><li>@returns <code>{Promise&lt;PromiseSettledResult&lt;T&gt;[]&gt;}</code> A promise that fulfills with an array of each result&#39;s settled status and value/reason.</li></ul><h3 id="event" tabindex="-1"><a class="header-anchor" href="#event"><span><code>Event</code></span></a></h3><p>A class representing a multi-listener event emitter with async support. Events allow multiple listeners to react to emitted values, with each listener potentially returning a result. All listeners are called for each emission.</p><p>Key characteristics:</p><ul><li>Multiple listeners - all are called for each emission</li><li>Listeners can return values collected in EventResult</li><li>Supports async listeners and async iteration</li><li>Provides lifecycle hooks for listener management</li><li>Memory efficient using RingBuffer for storage</li></ul><p>Differs from:</p><ul><li><p>Signal: Events have multiple persistent listeners vs Signal&#39;s one-time resolution per consumer</p></li><li><p>Sequence: Events broadcast to all listeners vs Sequence&#39;s single consumer queue</p></li><li><p>@template T - The type of value emitted to listeners (event payload)</p></li><li><p>@template R - The return type of listener functions</p></li></ul><h4 id="eventconstructordispose-callback" tabindex="-1"><a class="header-anchor" href="#eventconstructordispose-callback"><span><code>event.constructor(dispose?: Callback)</code></span></a></h4><p>Creates a new event.</p><ul><li>@param dispose - A function to call on the event disposal.</li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token comment">// Create a click event.</span></span>
<span class="line"><span class="token keyword">const</span> clickEvent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Event<span class="token operator">&lt;</span><span class="token punctuation">[</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">clickEvent<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Clicked at </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="eventsize-number" tabindex="-1"><a class="header-anchor" href="#eventsize-number"><span><code>event.size(): number</code></span></a></h4><p>The number of listeners for the event.</p><ul><li>@readonly</li><li>@type <code>{number}</code></li></ul><h4 id="eventdisposed-boolean" tabindex="-1"><a class="header-anchor" href="#eventdisposed-boolean"><span><code>event.disposed(): boolean</code></span></a></h4><p>Checks if the event has been disposed.</p><ul><li>@returns <code>{boolean}</code> <code>true</code> if the event has been disposed; otherwise, <code>false</code>.</li></ul><h4 id="eventlackslistener-listener-boolean" tabindex="-1"><a class="header-anchor" href="#eventlackslistener-listener-boolean"><span><code>event.lacks(listener: Listener): boolean</code></span></a></h4><p>Checks if the given listener is NOT registered for this event.</p><ul><li>@param listener - The listener function to check against the registered listeners.</li><li>@returns <code>{boolean}</code> <code>true</code> if the listener is not already registered; otherwise, <code>false</code>.</li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token comment">// Check if a listener is not already added</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span><span class="token function">lacks</span><span class="token punctuation">(</span>myListener<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  event<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>myListener<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="eventhaslistener-listener-boolean" tabindex="-1"><a class="header-anchor" href="#eventhaslistener-listener-boolean"><span><code>event.has(listener: Listener): boolean</code></span></a></h4><p>Checks if the given listener is registered for this event.</p><ul><li>@param listener - The listener function to check.</li><li>@returns <code>{boolean}</code> <code>true</code> if the listener is currently registered; otherwise, <code>false</code>.</li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token comment">// Verify if a listener is registered</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>myListener<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Listener is already registered&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="eventofflistener-listener-this" tabindex="-1"><a class="header-anchor" href="#eventofflistener-listener-this"><span><code>event.off(listener: Listener): this</code></span></a></h4><p>Removes a specific listener from this event.</p><ul><li>@param listener - The listener to remove.</li><li>@returns <code>{this}</code> The event instance, allowing for method chaining.</li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token comment">// Remove a listener</span></span>
<span class="line">event<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span>myListener<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="eventonlistener-listener-unsubscribe" tabindex="-1"><a class="header-anchor" href="#eventonlistener-listener-unsubscribe"><span><code>event.on(listener: Listener): Unsubscribe</code></span></a></h4><p>Registers a listener that gets triggered whenever the event is emitted. This is the primary method for adding event handlers that will react to the event being triggered.</p><ul><li>@param listener - The function to call when the event occurs.</li><li>@returns <code>{Unsubscribe}</code> An object that can be used to unsubscribe the listener, ensuring easy cleanup.</li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token comment">// Add a listener to an event</span></span>
<span class="line"><span class="token keyword">const</span> unsubscribe <span class="token operator">=</span> event<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Event data:&#39;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="eventoncelistener-listener-unsubscribe" tabindex="-1"><a class="header-anchor" href="#eventoncelistener-listener-unsubscribe"><span><code>event.once(listener: Listener): Unsubscribe</code></span></a></h4><p>Adds a listener that will be called only once the next time the event is emitted. This method is useful for one-time notifications or single-trigger scenarios.</p><ul><li>@param listener - The listener to trigger once.</li><li>@returns <code>{Unsubscribe}</code> An object that can be used to remove the listener if the event has not yet occurred.</li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token comment">// Register a one-time listener</span></span>
<span class="line"><span class="token keyword">const</span> onceUnsubscribe <span class="token operator">=</span> event<span class="token punctuation">.</span><span class="token function">once</span><span class="token punctuation">(</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Received data once:&#39;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="eventclear-this" tabindex="-1"><a class="header-anchor" href="#eventclear-this"><span><code>event.clear(): this</code></span></a></h4><p>Removes all listeners from the event, effectively resetting it. This is useful when you need to cleanly dispose of all event handlers to prevent memory leaks or unwanted triggers after certain conditions.</p><ul><li>@returns <code>{this}</code> The instance of the event, allowing for method chaining.</li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token keyword">const</span> myEvent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Event</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">myEvent<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>data <span class="token operator">=&gt;</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">myEvent<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Clears all listeners</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="eventnext-promise" tabindex="-1"><a class="header-anchor" href="#eventnext-promise"><span><code>event.next(): Promise</code></span></a></h4><p>Waits for the next event emission and returns the emitted value. This method allows the event to be used as a promise that resolves with the next emitted value.</p><ul><li>@returns <code>{Promise&lt;T&gt;}</code> A promise that resolves with the next emitted event value.</li></ul><h4 id="eventsettle-promise" tabindex="-1"><a class="header-anchor" href="#eventsettle-promise"><span><code>event.settle(): Promise</code></span></a></h4><p>Waits for the event to settle, returning a <code>PromiseSettledResult</code>. Resolves even when the next listener rejects.</p><ul><li><p>@returns <code>{Promise&lt;PromiseSettledResult&lt;T&gt;&gt;}</code> A promise that resolves with the settled result.</p></li><li><p>@example</p></li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> event<span class="token punctuation">.</span><span class="token function">settle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">&#39;fulfilled&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Event fulfilled with value:&#39;</span><span class="token punctuation">,</span> result<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;Event rejected with reason:&#39;</span><span class="token punctuation">,</span> result<span class="token punctuation">.</span>reason<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="eventsymbolasynciterator-asynciterator" tabindex="-1"><a class="header-anchor" href="#eventsymbolasynciterator-asynciterator"><span><code>event.Symbol.asyncIterator(): AsyncIterator</code></span></a></h4><p>Makes this event iterable using <code>for await...of</code> loops.</p><ul><li>@returns <code>{AsyncIterator&lt;T&gt;}</code> An async iterator that yields values as they are emitted by this event. The iterator unsubscribes and aborts internal queues when <code>return()</code> is called.</li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token comment">// Assuming an event that emits numbers</span></span>
<span class="line"><span class="token keyword">const</span> numberEvent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Event<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">for</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">const</span> num <span class="token keyword">of</span> numberEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Number:&#39;</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">await</span> <span class="token function">numberEvent</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">await</span> <span class="token function">numberEvent</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">await</span> <span class="token function">numberEvent</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="eventsymboldispose-void" tabindex="-1"><a class="header-anchor" href="#eventsymboldispose-void"><span><code>event.Symbol.dispose(): void</code></span></a></h4><h3 id="mergeevents-events-event" tabindex="-1"><a class="header-anchor" href="#mergeevents-events-event"><span><code>merge(...events: Events): Event</code></span></a></h3><p>Merges multiple events into a single event. This function takes any number of <code>Event</code> instances and returns a new <code>Event</code> that triggers whenever any of the input events trigger. The parameters and results of the merged event are derived from the input events, providing a flexible way to handle multiple sources of events in a unified manner.</p><ul><li>@template Events - An array of <code>Event</code> instances.</li><li>@param events - A rest parameter that takes multiple events to be merged.</li><li>@returns <code>{Event&lt;AllEventsParameters&lt;Events&gt;, AllEventsResults&lt;Events&gt;&gt;}</code> Returns a new <code>Event</code> instance that triggers with the parameters and results of any of the merged input events.</li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token comment">// Merging mouse and keyboard events into a single event</span></span>
<span class="line"><span class="token keyword">const</span> mouseEvent <span class="token operator">=</span> <span class="token generic-function"><span class="token function">createEvent</span><span class="token generic class-name"><span class="token operator">&lt;</span>MouseEvent<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> keyboardEvent <span class="token operator">=</span> <span class="token generic-function"><span class="token function">createEvent</span><span class="token generic class-name"><span class="token operator">&lt;</span>KeyboardEvent<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> inputEvent <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>mouseEvent<span class="token punctuation">,</span> keyboardEvent<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">inputEvent<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>event <span class="token operator">=&gt;</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Input event:&#39;</span><span class="token punctuation">,</span> event<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="createintervalinterval-number-event" tabindex="-1"><a class="header-anchor" href="#createintervalinterval-number-event"><span><code>createInterval(interval: number): Event</code></span></a></h3><p>Creates a periodic event that triggers at a specified interval. The event will automatically emit an incrementing counter value each time it triggers, starting from zero. This function is useful for creating time-based triggers within an application, such as updating UI elements, polling, or any other timed operation.</p><ul><li>@template R - The return type of the event handler function, defaulting to <code>void</code>.</li><li>@param interval - The interval in milliseconds at which the event should trigger.</li><li>@returns <code>{Event&lt;number, R&gt;}</code> An <code>Event</code> instance that triggers at the specified interval, emitting an incrementing counter value.</li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token comment">// Creating an interval event that logs a message every second</span></span>
<span class="line"><span class="token keyword">const</span> tickEvent <span class="token operator">=</span> <span class="token function">createInterval</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">tickEvent<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>tickNumber <span class="token operator">=&gt;</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Tick:&#39;</span><span class="token punctuation">,</span> tickNumber<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="createevent-event" tabindex="-1"><a class="header-anchor" href="#createevent-event"><span><code>createEvent(): Event</code></span></a></h3><p>Creates a new Event instance for multi-listener event handling. This is the primary way to create events in the library.</p><ul><li>@template T - The type of value emitted to listeners (event payload)</li><li>@template R - The return type of listener functions (collected in EventResult)</li><li>@returns <code>{Event&lt;T, R&gt;}</code> A new Event instance ready for listener registration</li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token comment">// Create an event that accepts a string payload</span></span>
<span class="line"><span class="token keyword">const</span> messageEvent <span class="token operator">=</span> <span class="token generic-function"><span class="token function">createEvent</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">messageEvent<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>msg <span class="token operator">=&gt;</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Received:&#39;</span><span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">messageEvent</span><span class="token punctuation">(</span><span class="token string">&#39;Hello&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// All listeners receive &#39;Hello&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Create an event where listeners return values</span></span>
<span class="line"><span class="token keyword">const</span> validateEvent <span class="token operator">=</span> <span class="token generic-function"><span class="token function">createEvent</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">validateEvent<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>str <span class="token operator">=&gt;</span> str<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">validateEvent<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>str <span class="token operator">=&gt;</span> str<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> results <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">validateEvent</span><span class="token punctuation">(</span><span class="token string">&#39;test&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// EventResult with [true, true]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="asynciteratorobject" tabindex="-1"><a class="header-anchor" href="#asynciteratorobject"><span><code>AsyncIteratorObject</code></span></a></h3><p>A wrapper class providing functional operations on async iterables. Enables lazy evaluation and chainable transformations on async data streams.</p><p>Key characteristics:</p><ul><li><p>Lazy evaluation - operations are not executed until iteration begins</p></li><li><p>Chainable - all transformation methods return new AsyncIteratorObject instances</p></li><li><p>Supports both sync and async transformation functions</p></li><li><p>Memory efficient - processes values one at a time</p></li><li><p>@template T The type of values yielded by the iterator</p></li><li><p>@template TReturn The return type of the iterator</p></li><li><p>@template TNext The type of value that can be passed to next()</p></li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token comment">// Create from an async generator</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">numbers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">yield</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token keyword">yield</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token keyword">yield</span> <span class="token number">3</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> iterator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AsyncIteratorObject</span><span class="token punctuation">(</span><span class="token function">numbers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x <span class="token number">2</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">for</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">const</span> value <span class="token keyword">of</span> iterator<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4, 6</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="asynciteratorobjectfromiterable-iterable-asynciteratorobject" tabindex="-1"><a class="header-anchor" href="#asynciteratorobjectfromiterable-iterable-asynciteratorobject"><span><code>asynciteratorobject.from(iterable: Iterable): AsyncIteratorObject</code></span></a></h4><p>A wrapper class providing functional operations on async iterables. Enables lazy evaluation and chainable transformations on async data streams.</p><p>Key characteristics:</p><ul><li><p>Lazy evaluation - operations are not executed until iteration begins</p></li><li><p>Chainable - all transformation methods return new AsyncIteratorObject instances</p></li><li><p>Supports both sync and async transformation functions</p></li><li><p>Memory efficient - processes values one at a time</p></li><li><p>@template T The type of values yielded by the iterator</p></li><li><p>@template TReturn The return type of the iterator</p></li><li><p>@template TNext The type of value that can be passed to next()</p></li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token comment">// Create from an async generator</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">numbers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">yield</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token keyword">yield</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token keyword">yield</span> <span class="token number">3</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> iterator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AsyncIteratorObject</span><span class="token punctuation">(</span><span class="token function">numbers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x <span class="token number">2</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">for</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">const</span> value <span class="token keyword">of</span> iterator<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4, 6</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Creates an AsyncIteratorObject from a synchronous iterable. Converts the sync iterable to async for uniform handling.</p><ul><li>@param iterable A synchronous iterable to convert</li><li>@returns A new AsyncIteratorObject wrapping the converted iterable</li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token keyword">const</span> syncArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> asyncIterator <span class="token operator">=</span> AsyncIteratorObject<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>syncArray<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">for</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">const</span> value <span class="token keyword">of</span> asyncIterator<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1, 2, 3, 4, 5</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="asynciteratorobjectmergeiterables-asynciterable-asynciteratorobject" tabindex="-1"><a class="header-anchor" href="#asynciteratorobjectmergeiterables-asynciterable-asynciteratorobject"><span><code>asynciteratorobject.merge(...iterables: AsyncIterable[]): AsyncIteratorObject</code></span></a></h4><p>Merges multiple async iterables into a single stream. Values from all sources are interleaved as they become available. The merged iterator completes when all source iterators complete.</p><ul><li>@param iterables The async iterables to merge</li><li>@returns A new AsyncIteratorObject yielding values from all sources</li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token keyword">async</span> <span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">source1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">yield</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token keyword">yield</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">source2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">yield</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token keyword">yield</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> merged <span class="token operator">=</span> AsyncIteratorObject<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token function">source1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">source2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">for</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">const</span> value <span class="token keyword">of</span> merged<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Order depends on timing: 1, 2, 3, 4 or similar</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="asynciteratorobjectconstructoriterable-asynciterable" tabindex="-1"><a class="header-anchor" href="#asynciteratorobjectconstructoriterable-asynciterable"><span><code>asynciteratorobject.constructor(iterable: AsyncIterable)</code></span></a></h4><h4 id="asynciteratorobjectpipegeneratorfactory-signal-abortsignal-asynciteratorobject" tabindex="-1"><a class="header-anchor" href="#asynciteratorobjectpipegeneratorfactory-signal-abortsignal-asynciteratorobject"><span><code>asynciteratorobject.pipe(generatorFactory, signal?: AbortSignal): AsyncIteratorObject</code></span></a></h4><p>Low-level transformation method using generator functions. Allows custom async transformations by providing a generator factory. Used internally by other transformation methods.</p><ul><li>@param generatorFactory A function that returns a generator function for transforming values</li><li>@param signal Optional AbortSignal to cancel the operation</li><li>@returns A new AsyncIteratorObject with transformed values</li></ul><h4 id="asynciteratorobjectawaited-asynciteratorobject" tabindex="-1"><a class="header-anchor" href="#asynciteratorobjectawaited-asynciteratorobject"><span><code>asynciteratorobject.awaited(): AsyncIteratorObject</code></span></a></h4><p>Resolves promise-like values from the source iterator. Useful for normalizing values before applying type-guard predicates.</p><ul><li>@returns A new AsyncIteratorObject yielding awaited values</li></ul><h4 id="asynciteratorobjectmapcallbackfn-asynciteratorobject" tabindex="-1"><a class="header-anchor" href="#asynciteratorobjectmapcallbackfn-asynciteratorobject"><span><code>asynciteratorobject.map(callbackfn): AsyncIteratorObject</code></span></a></h4><p>Transforms each value using a mapping function. The callback can be synchronous or return a promise.</p><ul><li>@param callbackfn Function to transform each value</li><li>@returns A new AsyncIteratorObject yielding transformed values</li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token keyword">const</span> numbers <span class="token operator">=</span> AsyncIteratorObject<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> doubled <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">for</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">const</span> value <span class="token keyword">of</span> doubled<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2, 4, 6</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="asynciteratorobjectfilterpredicate-asynciteratorobject" tabindex="-1"><a class="header-anchor" href="#asynciteratorobjectfilterpredicate-asynciteratorobject"><span><code>asynciteratorobject.filter(predicate): AsyncIteratorObject</code></span></a></h4><h4 id="asynciteratorobjectfilterpredicate-asynciteratorobject-1" tabindex="-1"><a class="header-anchor" href="#asynciteratorobjectfilterpredicate-asynciteratorobject-1"><span><code>asynciteratorobject.filter(predicate): AsyncIteratorObject</code></span></a></h4><h4 id="asynciteratorobjectfilterpredicate-asynciteratorobject-2" tabindex="-1"><a class="header-anchor" href="#asynciteratorobjectfilterpredicate-asynciteratorobject-2"><span><code>asynciteratorobject.filter(predicate): AsyncIteratorObject</code></span></a></h4><p>Filters values based on a predicate function. Only values for which the predicate returns truthy are yielded. Supports type guard predicates for type narrowing.</p><ul><li>@param predicate Function to test each value</li><li>@returns A new AsyncIteratorObject yielding only values that pass the test</li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token keyword">const</span> numbers <span class="token operator">=</span> AsyncIteratorObject<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> evens <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">for</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">const</span> value <span class="token keyword">of</span> evens<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2, 4</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="asynciteratorobjecttakelimit-number-asynciteratorobject" tabindex="-1"><a class="header-anchor" href="#asynciteratorobjecttakelimit-number-asynciteratorobject"><span><code>asynciteratorobject.take(limit: number): AsyncIteratorObject</code></span></a></h4><p>Creates an iterator whose values are the values from this iterator, stopping once the provided limit is reached.</p><ul><li>@param limit The maximum number of values to yield.</li></ul><h4 id="asynciteratorobjectdropcount-number-asynciteratorobject" tabindex="-1"><a class="header-anchor" href="#asynciteratorobjectdropcount-number-asynciteratorobject"><span><code>asynciteratorobject.drop(count: number): AsyncIteratorObject</code></span></a></h4><p>Creates an iterator whose values are the values from this iterator after skipping the provided count.</p><ul><li>@param count The number of values to drop.</li></ul><h4 id="asynciteratorobjectflatmapcallback-asynciteratorobject" tabindex="-1"><a class="header-anchor" href="#asynciteratorobjectflatmapcallback-asynciteratorobject"><span><code>asynciteratorobject.flatMap(callback): AsyncIteratorObject</code></span></a></h4><p>Creates an iterator whose values are the result of applying the callback to the values from this iterator and then flattening the resulting iterators or iterables.</p><ul><li>@param callback A function that accepts up to two arguments to be used to transform values from the underlying iterator into new iterators or iterables to be flattened into the result.</li></ul><h4 id="asynciteratorobjectreducecallbackfn-asynciteratorobject" tabindex="-1"><a class="header-anchor" href="#asynciteratorobjectreducecallbackfn-asynciteratorobject"><span><code>asynciteratorobject.reduce(callbackfn): AsyncIteratorObject</code></span></a></h4><h4 id="asynciteratorobjectreducecallbackfn-initialvalue-r-asynciteratorobject" tabindex="-1"><a class="header-anchor" href="#asynciteratorobjectreducecallbackfn-initialvalue-r-asynciteratorobject"><span><code>asynciteratorobject.reduce(callbackfn, initialValue: R): AsyncIteratorObject</code></span></a></h4><h4 id="asynciteratorobjectreducecallbackfn-args-unknown-asynciteratorobject" tabindex="-1"><a class="header-anchor" href="#asynciteratorobjectreducecallbackfn-args-unknown-asynciteratorobject"><span><code>asynciteratorobject.reduce(callbackfn, ...args: unknown[]): AsyncIteratorObject</code></span></a></h4><p>Creates an iterator of accumulated values by applying a reducer function. Unlike Array.reduce, this returns an iterator that yields each intermediate accumulated value, not just the final result. This allows observing the accumulation process.</p><ul><li>@param callbackfn Reducer function to accumulate values</li><li>@param initialValue Optional initial value for the accumulation</li><li>@returns A new AsyncIteratorObject yielding accumulated values at each step</li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token keyword">const</span> numbers <span class="token operator">=</span> AsyncIteratorObject<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> sums <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>sum<span class="token punctuation">,</span> x<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> sum <span class="token operator">+</span> x<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">for</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">const</span> value <span class="token keyword">of</span> sums<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1, 3, 6, 10 (running totals)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="asynciteratorobjectexpandcallbackfn-asynciteratorobject" tabindex="-1"><a class="header-anchor" href="#asynciteratorobjectexpandcallbackfn-asynciteratorobject"><span><code>asynciteratorobject.expand(callbackfn): AsyncIteratorObject</code></span></a></h4><p>Transforms each value into multiple values using an expander function. Each input value is expanded into zero or more output values. Similar to flatMap but for expanding to multiple values rather than flattening iterables.</p><ul><li>@param callbackfn Function that returns an iterable of values for each input</li><li>@returns A new AsyncIteratorObject yielding all expanded values</li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token keyword">const</span> numbers <span class="token operator">=</span> AsyncIteratorObject<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> expanded <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">expand</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> x <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">for</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">const</span> value <span class="token keyword">of</span> expanded<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1, 10, 2, 20, 3, 30</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="asynciteratorobjectsymbolasynciterator" tabindex="-1"><a class="header-anchor" href="#asynciteratorobjectsymbolasynciterator"><span><code>asynciteratorobject.Symbol.asyncIterator()</code></span></a></h4><h3 id="listenerregistry" tabindex="-1"><a class="header-anchor" href="#listenerregistry"><span><code>ListenerRegistry</code></span></a></h3><p>A lightweight registry for managing listener functions with stable dispatch order.</p><p>Key characteristics:</p><ul><li><p>O(1) add/remove/has using an internal Map</p></li><li><p>Snapshot-based dispatch to avoid reallocating arrays when the set is unchanged</p></li><li><p>Supports one-time listeners via <code>once</code></p></li><li><p>Returns booleans for idempotent add/remove operations</p></li><li><p>@template P Tuple of argument types passed to listeners</p></li><li><p>@template R Return type of listeners</p></li><li><p>@example</p></li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token keyword">const</span> registry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ListenerRegistry<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">listener</span> <span class="token operator">=</span> <span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">registry<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>listener<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// true</span></span>
<span class="line">registry<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>listener<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// false (already registered)</span></span>
<span class="line">registry<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// calls listener</span></span>
<span class="line">registry<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span>listener<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// true</span></span>
<span class="line">registry<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// no listeners called</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="listenerregistrysize-number" tabindex="-1"><a class="header-anchor" href="#listenerregistrysize-number"><span><code>listenerregistry.size(): number</code></span></a></h4><p>The number of listeners currently registered.</p><h4 id="listenerregistryhaslistener-fn-boolean" tabindex="-1"><a class="header-anchor" href="#listenerregistryhaslistener-fn-boolean"><span><code>listenerregistry.has(listener: Fn): boolean</code></span></a></h4><p>Checks whether the listener is currently registered.</p><h4 id="listenerregistrylackslistener-fn-boolean" tabindex="-1"><a class="header-anchor" href="#listenerregistrylackslistener-fn-boolean"><span><code>listenerregistry.lacks(listener: Fn): boolean</code></span></a></h4><p>Convenience inverse of <code>has</code>.</p><h4 id="listenerregistryofflistener-fn-boolean" tabindex="-1"><a class="header-anchor" href="#listenerregistryofflistener-fn-boolean"><span><code>listenerregistry.off(listener: Fn): boolean</code></span></a></h4><p>Removes a listener if present.</p><ul><li>@returns <code>true</code> if removed, <code>false</code> if it was not registered.</li></ul><h4 id="listenerregistryonlistener-fn-boolean" tabindex="-1"><a class="header-anchor" href="#listenerregistryonlistener-fn-boolean"><span><code>listenerregistry.on(listener: Fn): boolean</code></span></a></h4><p>Registers a listener if not already present.</p><ul><li>@returns <code>true</code> if added, <code>false</code> if it was already registered.</li></ul><h4 id="listenerregistryoncelistener-fn-boolean" tabindex="-1"><a class="header-anchor" href="#listenerregistryoncelistener-fn-boolean"><span><code>listenerregistry.once(listener: Fn): boolean</code></span></a></h4><p>Registers a listener that will automatically unregister after its next dispatch.</p><ul><li>@returns <code>true</code> if added, <code>false</code> if it was already registered.</li></ul><h4 id="listenerregistryclear-void" tabindex="-1"><a class="header-anchor" href="#listenerregistryclear-void"><span><code>listenerregistry.clear(): void</code></span></a></h4><p>Removes all listeners and clears the dispatch snapshot.</p><h4 id="listenerregistrydispatchvalues-p-array" tabindex="-1"><a class="header-anchor" href="#listenerregistrydispatchvalues-p-array"><span><code>listenerregistry.dispatch(...values: P): Array</code></span></a></h4><p>Dispatches to all listeners in snapshot order. One-time listeners are removed before invocation. Exceptions are captured as rejected promises so dispatch continues.</p><ul><li>@param values Arguments forwarded to each listener.</li><li>@returns Array of listener results or promises, one per listener.</li></ul><h3 id="sequence" tabindex="-1"><a class="header-anchor" href="#sequence"><span><code>Sequence</code></span></a></h3><p>A sequence is a FIFO (First-In-First-Out) queue for async consumption. Designed for single consumer with multiple producers pattern. Values are queued and consumed in order, with backpressure support. Respects an optional AbortSignal: enqueue returns false when aborted; waits reject.</p><p>Key characteristics:</p><ul><li><p>Single consumer - values are consumed once, in order</p></li><li><p>Multiple producers can push values concurrently</p></li><li><p>FIFO ordering - first value in is first value out</p></li><li><p>Backpressure control via reserve() method</p></li><li><p>Async iteration support for continuous consumption</p></li><li><p>@template T The type of values in the sequence.</p></li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token comment">// Create a sequence for processing tasks</span></span>
<span class="line"><span class="token keyword">const</span> tasks <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sequence<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Producer: Add tasks to the queue</span></span>
<span class="line"><span class="token function">tasks</span><span class="token punctuation">(</span><span class="token string">&#39;task1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">tasks</span><span class="token punctuation">(</span><span class="token string">&#39;task2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">tasks</span><span class="token punctuation">(</span><span class="token string">&#39;task3&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Consumer: Process tasks in order</span></span>
<span class="line"><span class="token keyword">const</span> task1 <span class="token operator">=</span> <span class="token keyword">await</span> tasks<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;task1&#39;</span></span>
<span class="line"><span class="token keyword">const</span> task2 <span class="token operator">=</span> <span class="token keyword">await</span> tasks<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;task2&#39;</span></span>
<span class="line"><span class="token keyword">const</span> task3 <span class="token operator">=</span> <span class="token keyword">await</span> tasks<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;task3&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="sequencemergetarget-sequence-sequences-sequence-void" tabindex="-1"><a class="header-anchor" href="#sequencemergetarget-sequence-sequences-sequence-void"><span><code>sequence.merge(target: Sequence, ...sequences: Sequence[]): void</code></span></a></h4><p>Merges multiple source sequences into a target sequence. Values from all sources are forwarded to the target sequence. Each source is consumed independently and concurrently.</p><ul><li>@param target The sequence that will receive values from all sources</li><li>@param sequences The source sequences to merge from</li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token comment">// Create target and source sequences</span></span>
<span class="line"><span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sequence<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> source1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sequence<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> source2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sequence<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Merge sources into target</span></span>
<span class="line">Sequence<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> source1<span class="token punctuation">,</span> source2<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Values from both sources appear in target</span></span>
<span class="line"><span class="token function">source1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">source2</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">source1</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Consumer gets values as they arrive</span></span>
<span class="line"><span class="token keyword">await</span> target<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Could be 1, 2, or 3 depending on timing</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="sequenceconstructorprivate-readonly-abortsignal-abortsignal" tabindex="-1"><a class="header-anchor" href="#sequenceconstructorprivate-readonly-abortsignal-abortsignal"><span><code>sequence.constructor(private readonly abortSignal?: AbortSignal)</code></span></a></h4><p>Creates a new Sequence instance.</p><ul><li>@param abortSignal - Optional AbortSignal to cancel pending operations</li></ul><h4 id="sequenceaborted-boolean" tabindex="-1"><a class="header-anchor" href="#sequenceaborted-boolean"><span><code>sequence.aborted(): boolean</code></span></a></h4><p>Indicates whether the associated AbortSignal has been triggered.</p><h4 id="sequencesize-number" tabindex="-1"><a class="header-anchor" href="#sequencesize-number"><span><code>sequence.size(): number</code></span></a></h4><p>Returns the number of values currently queued.</p><ul><li>@returns The current queue size</li></ul><h4 id="sequencereservecapacity-number-promise" tabindex="-1"><a class="header-anchor" href="#sequencereservecapacity-number-promise"><span><code>sequence.reserve(capacity: number): Promise</code></span></a></h4><p>Waits until the queue size drops to or below the specified capacity. Useful for implementing backpressure - producers can wait before adding more items.</p><ul><li>@param capacity The maximum queue size to wait for</li><li>@returns A promise that resolves when the queue size is at or below capacity</li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token comment">// Producer with backpressure control</span></span>
<span class="line"><span class="token keyword">const</span> sequence <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sequence<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Wait if queue has more than 10 items</span></span>
<span class="line"><span class="token keyword">await</span> sequence<span class="token punctuation">.</span><span class="token function">reserve</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">sequence</span><span class="token punctuation">(</span><span class="token string">&#39;new item&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Safe to add, queue has space</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="sequencenext-promise" tabindex="-1"><a class="header-anchor" href="#sequencenext-promise"><span><code>sequence.next(): Promise</code></span></a></h4><p>Consumes and returns the next value from the queue. If the queue is empty, waits for a value to be added. Values are consumed in FIFO order.</p><ul><li>@returns A promise that resolves with the next value</li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token keyword">const</span> sequence <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sequence<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Consumer waits for values</span></span>
<span class="line"><span class="token keyword">const</span> valuePromise <span class="token operator">=</span> sequence<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Producer adds value</span></span>
<span class="line"><span class="token function">sequence</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Consumer receives it</span></span>
<span class="line"><span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token keyword">await</span> valuePromise<span class="token punctuation">;</span> <span class="token comment">// 42</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="sequencesymboldispose-void" tabindex="-1"><a class="header-anchor" href="#sequencesymboldispose-void"><span><code>sequence.Symbol.dispose(): void</code></span></a></h4><p>Disposes of the sequence, signaling any waiting consumers. Called automatically when used with <code>using</code> declaration.</p><h3 id="signal" tabindex="-1"><a class="header-anchor" href="#signal"><span><code>Signal</code></span></a></h3><p>A signal is a broadcast async primitive for coordinating between producers and consumers. When a value is sent, ALL waiting consumers receive the same value (broadcast pattern). Signals can be reused - each call to next() creates a new promise for the next value.</p><p>Key characteristics:</p><ul><li><p>Multiple consumers can wait simultaneously</p></li><li><p>All waiting consumers receive the same value when sent</p></li><li><p>Reusable - can send multiple values over time</p></li><li><p>Supports async iteration for continuous value streaming</p></li><li><p>@template T The type of value that this signal carries.</p></li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token comment">// Create a signal for string values</span></span>
<span class="line"><span class="token keyword">const</span> signal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Signal<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Multiple consumers wait for the same value</span></span>
<span class="line"><span class="token keyword">const</span> promise1 <span class="token operator">=</span> signal<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> promise2 <span class="token operator">=</span> signal<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Send a value - both consumers receive it</span></span>
<span class="line"><span class="token function">signal</span><span class="token punctuation">(</span><span class="token string">&#39;Hello World&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> <span class="token punctuation">[</span>value1<span class="token punctuation">,</span> value2<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>promise1<span class="token punctuation">,</span> promise2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value1 <span class="token operator">===</span> value2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true - both got &#39;Hello World&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="signalmergetarget-signal-signals-signal-void" tabindex="-1"><a class="header-anchor" href="#signalmergetarget-signal-signals-signal-void"><span><code>signal.merge(target: Signal, ...signals: Signal[]): void</code></span></a></h4><p>Merges multiple source signals into a target signal. Values from any source signal are forwarded to the target signal. The merge continues until the target signal is aborted.</p><p>Note: When the target is aborted, iteration stops after the next value from each source. For immediate cleanup, abort source signals directly.</p><ul><li>@param target The signal that will receive values from all sources</li><li>@param signals The source signals to merge from</li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token comment">// Create a target signal and source signals</span></span>
<span class="line"><span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Signal<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> source1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Signal<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> source2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Signal<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Merge sources into target</span></span>
<span class="line">Signal<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> source1<span class="token punctuation">,</span> source2<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Values from any source appear in target</span></span>
<span class="line"><span class="token function">source1</span><span class="token punctuation">(</span><span class="token string">&#39;Hello&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token keyword">await</span> target<span class="token punctuation">;</span> <span class="token comment">// &#39;Hello&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="signalconstructorprivate-readonly-abortsignal-abortsignal" tabindex="-1"><a class="header-anchor" href="#signalconstructorprivate-readonly-abortsignal-abortsignal"><span><code>signal.constructor(private readonly abortSignal?: AbortSignal)</code></span></a></h4><p>Creates a new Signal instance.</p><ul><li>@param abortSignal An optional AbortSignal that can be used to cancel the signal operation.</li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token comment">// Create a signal with abort capability</span></span>
<span class="line"><span class="token keyword">const</span> controller <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> signal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Signal<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span></span><span class="token punctuation">(</span>controller<span class="token punctuation">.</span>signal<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Signal can be cancelled</span></span>
<span class="line">controller<span class="token punctuation">.</span><span class="token function">abort</span><span class="token punctuation">(</span><span class="token string">&#39;Operation cancelled&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="signalaborted-boolean" tabindex="-1"><a class="header-anchor" href="#signalaborted-boolean"><span><code>signal.aborted(): boolean</code></span></a></h4><p>Indicates whether the associated AbortSignal has been triggered.</p><h4 id="signalnext-promise" tabindex="-1"><a class="header-anchor" href="#signalnext-promise"><span><code>signal.next(): Promise</code></span></a></h4><p>Waits for the next value to be sent to this signal. If the signal has been aborted, this method will reject with the abort reason.</p><ul><li>@returns A promise that resolves with the next value sent to the signal.</li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token keyword">const</span> signal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Signal<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Wait for a value</span></span>
<span class="line"><span class="token keyword">const</span> valuePromise <span class="token operator">=</span> signal<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Send a value from elsewhere</span></span>
<span class="line"><span class="token function">signal</span><span class="token punctuation">(</span><span class="token string">&#39;Hello&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token keyword">await</span> valuePromise<span class="token punctuation">;</span> <span class="token comment">// &#39;Hello&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="signalsymboldispose-void" tabindex="-1"><a class="header-anchor" href="#signalsymboldispose-void"><span><code>signal.Symbol.dispose(): void</code></span></a></h4><p>Disposes of the signal, cleaning up any pending promise resolvers. This method is called automatically when the signal is used with a <code>using</code> declaration.</p><h3 id="abortableiterator" tabindex="-1"><a class="header-anchor" href="#abortableiterator"><span><code>AbortableIterator</code></span></a></h3><p>Wraps an async iterator with abort signal support. When the signal is aborted, iteration terminates gracefully.</p><ul><li>@template T - The yielded value type</li><li>@template TReturn - The return value type</li><li>@template TNext - The type passed to next()</li></ul><h4 id="abortableiteratorconstructoriterator-asynciterator-signal-abortsignal" tabindex="-1"><a class="header-anchor" href="#abortableiteratorconstructoriterator-asynciterator-signal-abortsignal"><span><code>abortableiterator.constructor(iterator: AsyncIterator, signal?: AbortSignal)</code></span></a></h4><h4 id="abortableiteratornextargs---tnext-promise" tabindex="-1"><a class="header-anchor" href="#abortableiteratornextargs---tnext-promise"><span><code>abortableiterator.next(...args: [] | [TNext]): Promise</code></span></a></h4><h4 id="abortableiteratorreturnvalue-treturn-promise" tabindex="-1"><a class="header-anchor" href="#abortableiteratorreturnvalue-treturn-promise"><span><code>abortableiterator.return(value?: TReturn): Promise</code></span></a></h4><h4 id="abortableiteratorthrowerror-unknown-promise" tabindex="-1"><a class="header-anchor" href="#abortableiteratorthrowerror-unknown-promise"><span><code>abortableiterator.throw(error: unknown): Promise</code></span></a></h4><h4 id="abortableiteratorsymbolasynciterator-asynciterator" tabindex="-1"><a class="header-anchor" href="#abortableiteratorsymbolasynciterator-asynciterator"><span><code>abortableiterator.Symbol.asyncIterator(): AsyncIterator</code></span></a></h4><h3 id="noop" tabindex="-1"><a class="header-anchor" href="#noop"><span><code>noop()</code></span></a></h3><p>A no-operation function. Useful as a default callback or placeholder.</p><h3 id="mapiteratoriterator-anyiterator-map-mapnext-asynciterator" tabindex="-1"><a class="header-anchor" href="#mapiteratoriterator-anyiterator-map-mapnext-asynciterator"><span><code>mapIterator(iterator: AnyIterator, map: MapNext): AsyncIterator</code></span></a></h3><p>Wraps an iterator with a mapping function applied to each result.</p><ul><li>@template U - The output value type</li><li>@template T - The input value type</li><li>@template TReturn - The iterator return type</li><li>@template TNext - The type passed to next()</li><li>@param iterator - The source iterator to wrap</li><li>@param map - The mapping function to apply to each result</li><li>@returns An async iterator with mapped results</li></ul><h3 id="iteratestartorcount-number-countwhentwoargs-number-step-number--1-iterable" tabindex="-1"><a class="header-anchor" href="#iteratestartorcount-number-countwhentwoargs-number-step-number--1-iterable"><span><code>iterate(startOrCount?: number, countWhenTwoArgs?: number, step: number = 1): Iterable</code></span></a></h3><p>Creates an iterable sequence of numbers with flexible parameters. Can generate infinite sequences, finite sequences, or sequences with custom start and step values.</p><ul><li><p>@param args Variable arguments to configure the sequence:</p><ul><li>No args: Infinite sequence starting at 0 with step 1</li><li>1 arg (count): Sequence from 0 to count-1</li><li>2 args (start, count): Sequence starting at &#39;start&#39; for &#39;count&#39; iterations</li><li>3 args (start, count, step): Custom start, count, and step value</li></ul></li><li><p>@returns An iterable that generates numbers according to the parameters</p></li><li><p>@example</p></li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token comment">// Infinite sequence: 0, 1, 2, 3, ...</span></span>
<span class="line"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> n <span class="token keyword">of</span> <span class="token function">iterate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Count only: 0, 1, 2, 3, 4</span></span>
<span class="line"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> n <span class="token keyword">of</span> <span class="token function">iterate</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Start and count: 10, 11, 12, 13, 14</span></span>
<span class="line"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> n <span class="token keyword">of</span> <span class="token function">iterate</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Start, count, and step: 0, 2, 4, 6, 8</span></span>
<span class="line"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> n <span class="token keyword">of</span> <span class="token function">iterate</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="toasynciterableiterable-iterable-asynciterable" tabindex="-1"><a class="header-anchor" href="#toasynciterableiterable-iterable-asynciterable"><span><code>toAsyncIterable(iterable: Iterable): AsyncIterable</code></span></a></h3><p>Converts a synchronous iterable to an asynchronous iterable. Wraps the sync iterator methods to return promises, enabling uniform async handling.</p><ul><li><p>@template T The type of values yielded by the iterator</p></li><li><p>@template TReturn The return type of the iterator</p></li><li><p>@template TNext The type of value that can be passed to next()</p></li><li><p>@param iterable A synchronous iterable to convert</p></li><li><p>@returns An async iterable that yields the same values as the input</p></li><li><p>@example</p></li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token keyword">const</span> syncArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> asyncIterable <span class="token operator">=</span> <span class="token function">toAsyncIterable</span><span class="token punctuation">(</span>syncArray<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">for</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">const</span> value <span class="token keyword">of</span> asyncIterable<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1, 2, 3, 4, 5</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mergeiterablesiterables-asynciterable-asynciterable" tabindex="-1"><a class="header-anchor" href="#mergeiterablesiterables-asynciterable-asynciterable"><span><code>mergeIterables(...iterables: AsyncIterable[]): AsyncIterable</code></span></a></h3><p>Merges multiple async iterables into a single stream. Values are yielded as they become available from any source. Completes when all sources complete; aborts all on error.</p><ul><li>@template T - The value type yielded by all iterables</li><li>@param iterables - The async iterables to merge</li><li>@returns A merged async iterable</li></ul><h2 id="license" tabindex="-1"><a class="header-anchor" href="#license"><span>License</span></a></h2><p>License <a href="./LICENSE">The MIT License</a> Copyright (c) 2025 Ivan Zakharchanka</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated:: </span><time class="meta-item-info" datetime="2026-01-19T18:13:55.000Z" data-allow-mismatch>1/19/26, 6:13 PM</time></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 3axap4eHko@gmail.com">Ivan Zakharchanka</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: 3axap4eHko@gmail.com">3axap4eHko</span><!----><!--]--><!--]--></span></div></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/evnty/assets/app-BZpFPFnJ.js" defer></script>
  </body>
</html>
